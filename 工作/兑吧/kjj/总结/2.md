![image-20210123211211387](D:\work\pic\转正述职\image-20210123211211387.png)

很早之前的公共函数

UTC => UTC+08:00

现象：早上八点前为前一天

与产品确认 => 改正

教训总结：

1. 对所有使用的api、公共函数、组件、库都应该仔细确认，确保其与想要达到效果一致
2. 自己在实现此类公共方法时需要考虑更周全，尤其不能出现不符合现实的问题，给团队埋雷







![image-20210124133828974](D:\work\pic\转正述职\image-20210124133828974.png)



![image-20210124134046423](D:\work\pic\转正述职\image-20210124134046423.png)

前:

1. 界面丑，用户体验差
2. 图片，加载慢，兼容性差
3. 重复开发

后：

统一标准，用户体验提升，兼容性提升，开发效率提升

公共组件开发流程：

需求UI确定=>技术选型=>API设计=>开发



然后是时间公共函数引发的“血案”

这是我做的早晚安打卡需求上线后

有天早上7点多时候，刚醒躺在床上，想体验下自己做的功能，结果打卡发现日期不对，马上起来看代码

发现是使用的项目中之前的公共函数有问题

公共函数获取时分秒天等api使用的是 UTC 也就是国际时间，我们当前的时区的时间也就是UTC+8相比早了8小时

造成的现象就是如果早晨8点前打卡，显示的就是前一天的日期，所以这个问题上线前我们也没测到，之前使用该公共函数地方也未发现

到公司后我立即与产品确认，项目中不会出现国际时间，于是将代码改回当前时间获取的API，并确认了其他使用到该公共函数的地方，review后发布上线

得到的教训总结是

​	对所有使用的api、公共函数、组件、库必须仔细确认，确保其与想要达到效果一致

​	同时自己在实现此类公共方法时需要考虑更周全，尤其不应出现不符合现实的问题，给团队埋雷