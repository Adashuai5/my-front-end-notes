# 组件发布系统

1. 提供组件开发环境

- 组件由 vue 文件和 json 文件组成
- 开发和浏览组件

2. 提供组件打包发布功能

- 通过 webpack 打包 vue 生成组件，同时将 json 文件移到 dist
- 上传文件到 oss
- 发布/编辑组件

3. 提供公共库

- 请求相关 axios 封装
- 发布订阅 EventBus
- js 的加载器等

# B 端装修页面

1. 左侧组件展示
2. 中间组件渲染

- 加载和渲染方式类似 C 端

3. 可视化交互
4. 组件配置/页面配置

json 配置


# C 端容器

0. 公共库加载

- 组件包加载依赖公共库

1. 组件包加载

- 通过页面 id 获取页面组件列表等信息
- 批量加载组件 js，生成 script 于 dom

2. 组件渲染

- 通过 Components is 渲染组件，传递参数

3. 埋点相关功能

- 通过 IntersectionObserver(callback, options) Api 判断是否曝光
通过指令参数，组件/组件内元素按序注册 observe 监听，保证按序曝光

4. 其他 C 端页面功能

- 分享
- 兼容性
